# Member System Demo：基於 Laravel 的模組化會員系統

## 目錄

- [專案核心亮點](#專案核心亮點)
- [功能總覽](#功能總覽)
- [技術使用](#技術使用)
- [技能對應與實務經驗](#技能對應與實務經驗)
- [專案架構圖](#專案架構圖)
- [功能模組](#功能模組)
- [資料表設計](#資料表設計)
- [開發與執行教學 / 架構說明](#開發與執行教學--架構說明)




這是一個以 Laravel 12 開發的完整會員系統範例，旨在展示如何運用分層架構（Service Layer）與設計模式，解決實務中複雜的業務流程與驗證邏輯。本專案以高內聚、低耦合的設計原則，實現了可擴展且易於維護的程式碼。

核心功能涵蓋：註冊、登入、Email 驗證、忘記密碼與資料編輯等，並採用自訂 Token 驗證機制與 AJAX 輪詢，提供穩定與流暢的使用者體驗。

---

## 專案核心亮點

- **分層架構設計**   
  採用清晰的 Service-Repository 分層架構，將業務邏輯與資料庫操作徹底分離。Controller 僅負責處理請求與調用服務，大幅提升程式碼的可讀性、可維護性與可測試性。  

- **靈活的 Token 驗證機制**  
  實作一套基於 Strategy Pattern 的 Token 驗證機制，將不同類型的 Token（如註冊、登入、密碼重設）處理邏輯封裝在各自的策略中。這種設計讓驗證流程高度模組化，易於擴充新功能。  

- **Orchestrator 與策略模式**  
  將「發送驗證信」等共通流程抽象為 VerificationEmailOrchestrator，並結合不同的策略（Strategy）來實作具體邏輯。這完美體現了樣板方法模式與策略模式的結合應用，有效減少重複程式碼並提升系統彈性。  


## 功能總覽

- 會員註冊：包含 Email 驗證與密碼設定流程。
- 登入 / 登出：透過自訂的 Bearer Token 進行身分驗證
- 忘記密碼：安全的密碼重設流程。
- 個人資料設定（暱稱、性別、年齡層）
- Email 變更驗證：透過 Email 驗證確認變更，並搭配 AJAX 輪詢提供即時狀態更新。

---

## 技術使用

- **後端框架**：Laravel 12（PHP）
- **前端模板**：Blade 模板引擎, jQuery (AJAX), HTML/CSS
- **資料庫**：MySQL 8.0+
- **部署環境**：MAMP / macOS
- **版本控制**：Git

---

## 技能對應與實務經驗

以下為我在本專案中展現的技術能力


| 技能項目 | 實作經驗與說明 |
| :--- | :--- |
| **PHP / Laravel 框架** | 專案基於 **Laravel 12** 框架，透過 **Service Layer** 實現業務邏輯與控制器職責分離，確保程式碼可讀性與可維護性。 |
| **軟體架構與設計模式**   | 運用 **Orchestrator** 結合 **策略模式（Strategy Pattern）**，將重複流程抽象化。在資料層則採用 **Repository Pattern**，實現業務邏輯與資料持久化解耦。 |
| **物件導向設計 (OOP)** | 專案中應用了 **SOLID 原則**，透過介面與抽象類別來實踐依賴反轉，使架構更具彈性與擴充性。 |
| **MySQL 資料庫**      | 具備 **Migration** 經驗，能進行資料庫結構的版本控制，並使用 **Seeder** 建立測試資料，簡化了環境建置流程。 |
| **Eloquent ORM**     | 在專案中，我透過 **Repository Pattern** 封裝了 Eloquent 的資料存取細節，將複雜的查詢邏輯與業務流程分離。 |
| **API 設計**          | 實作 Email 驗證狀態查詢 API，遵循 **RESTful** 設計原則，並以 **JSON** 格式回應，便於前端與後端協作。 |
| **非同步處理**         | 運用 **jQuery** 與 **AJAX** 技術，實作無頁面刷新的輪詢機制，提升使用者體驗。 |
| **版本控制**           | 熟悉以**功能分支**為主的開發流程，能將個人開發的程式碼提交至 `dev` 分支，並通過合併請求（Merge Request）的方式更新至 `main` 分支。|
| **技術文件撰寫**       | 本專案文件包含架構設計、程式碼說明與安裝教學，能清晰闡述設計理念，有助於他人理解與維護。 |


---

## 專案架構圖

```
                          +-----------+
                          |  Request  |
                          +-----------+
                                |
                                ▼
                        +----------------+
                        |   Middleware   |
                        +----------------+
                                |
                                ▼
                        +----------------+
                        |   Controller   |
                        +----------------+
                                |
                                ▼
      +------------------------------------------------------+ 
      |  +------------+        Service Layer                 |
      |  |   Service  |                                      |
      |  +------------+    +--------------+    +----------+  | 
      |        ├─────────> | Orchestrator | ─> | Stratgey |  |  
      |        |           +--------------+    +----------+  | 
      |        |                                             | 
      |        |           +--------------+                  | 
      |        └─────────> | Unit Service |                  |
      |                    +--------------+                  |
      +------------------------------------------------------+

                                |
                                ▼
                        +----------------+
                        |   Repository   |
                        +----------------+
                                |
                                ▼
                        +----------------+
                        |    Database    |
                        +----------------+

``` 


---

## 功能模組

| 功能模組      | Controller                   | 說明  |
|------------ |------------------------------|----------------------------------------------------|
|  會員登入    | `MemberLoginController`      | 提供登入、登出功能
|  會員註冊    | `MemberRegisterController`   | 處理訪客註冊流程，包含電子郵件驗證與密碼設定 |
|  忘記密碼    | `ForgotPasswordController`   | 發送驗證信並重設密碼  |
|  聯絡資訊更新 | `UpdateContactController` + `PollingStatusController` | 使用者更新電子郵件，並透過輪詢機制即時驗證狀態  |
|  會員中心    | `MemberCenterController`    | 登入後的首頁與個人資料編輯功能  |

---

## 資料表設計

| Table 名稱                        |説明                                                   |
|----------------------------------|-------------------------------------------------------|
| member_center_guests             | 記錄尚未設定密碼的註冊訪客（含註冊驗證信 token）             |
| member_center_users              | 正式會員資料（含登入用 bearer token）                     |
| member_center_user_contact_update| Email/手機變更請求資料，追蹤變更狀態與驗證信（目前實作 Email）|
| member_center_password_update    | 忘記密碼的驗證 token 與狀態紀錄                           |

---

## 開發與執行教學 / 架構說明

- 🛠 安裝流程請參考 👉 [`docs/setup.md`](docs/setup.md)  
- 🧩 系統架構與模組設計 👉 [`docs/architecture.md`](docs/architecture.md)

---


## 聯絡方式

若您對此專案或我的履歷有興趣，歡迎聯絡我：

- Email：dreaninvain@gmail.com
- GitHup: [@https://github.com/TerrenceLiu001]
